<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class name="CorsaBean" table="corsa">
        <!-- Identificatore. -->
        <composite-id class="String" name="key">
        <key-property name="Orario_Partenza" column="orario_partenza"/>
        <key-property name="Codice" column="codice"/>
        </composite-id>
        <!-- Proprieta'. -->
        <property name="Orario_Arrivo" column="orario_arrivo" not-null="true"/>     
        <property name="Senso_Marcia" column="senso_marcia" not-null="true"/>     
        
         <!-- Relazione tra Corsa(1,n) e Fermata(1,n). --> 
		 <set name="Fermata" table="c_f" lazy="true" fetch="select" cascade="all"> 
		 <key column="orario_partenza" not-null="true"/> 
		 <!--  <key column="codice_linea" not-null="true"/>  -->
		 <many-to-many column="nome" class=FermataBean"/> 
		 </set>    
		 
        <!-- Relazione tra Corsa(1,1) e Linea(1,n). -->
        <many-to-one name="linea" column="codice" />
    </class>
</hibernate-mapping>